Uniswap code from https://github.com/Uniswap/uniswap-lib and https://github.com/Uniswap/uniswap-v2-periphery with some nontrivial modifications.
